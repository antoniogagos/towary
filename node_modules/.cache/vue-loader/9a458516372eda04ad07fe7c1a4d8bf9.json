{"remainingRequest":"/Users/antoniogarciaabasolo/Desktop/apps/towary/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antoniogarciaabasolo/Desktop/apps/towary/src/pages/HomePage.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/antoniogarciaabasolo/Desktop/apps/towary/src/pages/HomePage.vue","mtime":1572000447916},{"path":"/Users/antoniogarciaabasolo/Desktop/apps/towary/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antoniogarciaabasolo/Desktop/apps/towary/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/antoniogarciaabasolo/Desktop/apps/towary/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/antoniogarciaabasolo/Desktop/apps/towary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antoniogarciaabasolo/Desktop/apps/towary/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9nby1jb250YWluZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBmb250LXNpemU6IDYycHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgcGFkZGluZy1ib3R0b206IDYwcHg7CiAgYmFja2dyb3VuZDogI0ZBRkFGQTsKfQoKLmNvbnRhaW5lciB7CiAgb3ZlcmZsb3c6IGF1dG87CiAgcGFkZGluZy10b3A6IDU1cHg7Cn0KCi5oZWFkZXItbG9nbyB7CiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDI1MCwgMjUwLCAyNTAsIDApOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZGlzcGxheTogZmxleDsKICBmb250LXNpemU6IDE3cHg7CiAgY29sb3I6ICMzMzM7CiAgZm9udC13ZWlnaHQ6IDcwMDsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KCi51c2VyLWltZyB7CiAgYm9yZGVyLXJhZGl1czogNTAlOwogIHBvaW50ZXItZXZlbnRzOiBhbGw7Cn0KCg=="},{"version":3,"sources":["HomePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"HomePage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n   <div class=\"container\" v-if=\"user\">\n    <BookList\n        :user-fav-books=\"userFavBooks\"\n        :user=\"user\"\n        :search-input=\"searchInput\"\n        @add-to-fav=\"handleFavBook\"\n        @open-book-overlay=\"openBookOverlay\"></BookList>\n    <BookOverlay\n        id=\"overlay\"\n        v-if=\"showModal\"\n        :user=\"user\"\n        :user-fav-books=\"userFavBooks\"\n        :selected-book=\"selectedBook\"\n        @add-to-fav=\"handleFavBook\"\n        @close=\"showModal = false\"></BookOverlay>\n  </div>\n\n</template>\n\n<script>\nimport BookList from '../components/BookList.vue';\nimport BookOverlay from '../components/BookOverlay.vue';\nimport { firebase } from '../firebase-connection.js';\nimport * as Api from '../api.js';\n\nexport default {\n  name: 'app',\n  components: {\n    BookList,\n    BookOverlay,\n  },\n  props: {\n    user: { type: Object },\n    userFavBooks: { type: Array },\n    searchInput: { type: String }\n  },\n  data: function() {\n    return {\n      showModal: false,\n      selectedBook: null,\n    }\n  },\n  methods: {\n    openBookOverlay: function(book) {\n      this.showModal = true;\n      this.selectedBook = book;\n    },\n    handleFavBook: async function(book) {\n      const matched = this.userFavBooks.find(b => b.slug === book.slug);\n      if (Boolean(matched)) {\n        await this.removeBookFromFav(book);\n      } else {\n        await this.addBookToFav(book);\n      }\n    },\n    addBookToFav: async function(book) {\n      this.userFavBooks.push(Object.assign(book, { added: Date.now() }));\n      book.upvotes += 1;\n      await Api.addBookToFav({ user: this.user, book });\n    },\n    removeBookFromFav: async function(book) {\n      const idx = this.userFavBooks.indexOf(book);\n      this.userFavBooks.splice(idx, 1);\n      book.upvotes -= 1;\n      await Api.removeBookFromFav({ user: this.user, book });\n    }\n  },\n}\n\n</script>\n\n<style>\n\n.logo-container {\n  display: flex;\n  align-items: center;\n  font-size: 62px;\n  font-weight: bold;\n  justify-content: center;\n  padding-bottom: 60px;\n  background: #FAFAFA;\n}\n\n.container {\n  overflow: auto;\n  padding-top: 55px;\n}\n\n.header-logo {\n  -webkit-tap-highlight-color: rgba(250, 250, 250, 0);\n  align-items: center;\n  display: flex;\n  font-size: 17px;\n  color: #333;\n  font-weight: 700;\n  text-decoration: none;\n}\n\n.user-img {\n  border-radius: 50%;\n  pointer-events: all;\n}\n\n</style>\n"]}]}