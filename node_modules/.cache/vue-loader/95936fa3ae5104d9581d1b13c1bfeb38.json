{"remainingRequest":"/Users/antoniogarciaabasolo/Desktop/apps/towary/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antoniogarciaabasolo/Desktop/apps/towary/src/pages/HomePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/antoniogarciaabasolo/Desktop/apps/towary/src/pages/HomePage.vue","mtime":1572000447916},{"path":"/Users/antoniogarciaabasolo/Desktop/apps/towary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antoniogarciaabasolo/Desktop/apps/towary/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCb29rTGlzdCBmcm9tICcuLi9jb21wb25lbnRzL0Jvb2tMaXN0LnZ1ZSc7CmltcG9ydCBCb29rT3ZlcmxheSBmcm9tICcuLi9jb21wb25lbnRzL0Jvb2tPdmVybGF5LnZ1ZSc7CmltcG9ydCB7IGZpcmViYXNlIH0gZnJvbSAnLi4vZmlyZWJhc2UtY29ubmVjdGlvbi5qcyc7CmltcG9ydCAqIGFzIEFwaSBmcm9tICcuLi9hcGkuanMnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdhcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIEJvb2tMaXN0LAogICAgQm9va092ZXJsYXksCiAgfSwKICBwcm9wczogewogICAgdXNlcjogeyB0eXBlOiBPYmplY3QgfSwKICAgIHVzZXJGYXZCb29rczogeyB0eXBlOiBBcnJheSB9LAogICAgc2VhcmNoSW5wdXQ6IHsgdHlwZTogU3RyaW5nIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd01vZGFsOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRCb29rOiBudWxsLAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb3BlbkJvb2tPdmVybGF5OiBmdW5jdGlvbihib29rKSB7CiAgICAgIHRoaXMuc2hvd01vZGFsID0gdHJ1ZTsKICAgICAgdGhpcy5zZWxlY3RlZEJvb2sgPSBib29rOwogICAgfSwKICAgIGhhbmRsZUZhdkJvb2s6IGFzeW5jIGZ1bmN0aW9uKGJvb2spIHsKICAgICAgY29uc3QgbWF0Y2hlZCA9IHRoaXMudXNlckZhdkJvb2tzLmZpbmQoYiA9PiBiLnNsdWcgPT09IGJvb2suc2x1Zyk7CiAgICAgIGlmIChCb29sZWFuKG1hdGNoZWQpKSB7CiAgICAgICAgYXdhaXQgdGhpcy5yZW1vdmVCb29rRnJvbUZhdihib29rKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhd2FpdCB0aGlzLmFkZEJvb2tUb0Zhdihib29rKTsKICAgICAgfQogICAgfSwKICAgIGFkZEJvb2tUb0ZhdjogYXN5bmMgZnVuY3Rpb24oYm9vaykgewogICAgICB0aGlzLnVzZXJGYXZCb29rcy5wdXNoKE9iamVjdC5hc3NpZ24oYm9vaywgeyBhZGRlZDogRGF0ZS5ub3coKSB9KSk7CiAgICAgIGJvb2sudXB2b3RlcyArPSAxOwogICAgICBhd2FpdCBBcGkuYWRkQm9va1RvRmF2KHsgdXNlcjogdGhpcy51c2VyLCBib29rIH0pOwogICAgfSwKICAgIHJlbW92ZUJvb2tGcm9tRmF2OiBhc3luYyBmdW5jdGlvbihib29rKSB7CiAgICAgIGNvbnN0IGlkeCA9IHRoaXMudXNlckZhdkJvb2tzLmluZGV4T2YoYm9vayk7CiAgICAgIHRoaXMudXNlckZhdkJvb2tzLnNwbGljZShpZHgsIDEpOwogICAgICBib29rLnVwdm90ZXMgLT0gMTsKICAgICAgYXdhaXQgQXBpLnJlbW92ZUJvb2tGcm9tRmF2KHsgdXNlcjogdGhpcy51c2VyLCBib29rIH0pOwogICAgfQogIH0sCn0KCg=="},{"version":3,"sources":["HomePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomePage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n   <div class=\"container\" v-if=\"user\">\n    <BookList\n        :user-fav-books=\"userFavBooks\"\n        :user=\"user\"\n        :search-input=\"searchInput\"\n        @add-to-fav=\"handleFavBook\"\n        @open-book-overlay=\"openBookOverlay\"></BookList>\n    <BookOverlay\n        id=\"overlay\"\n        v-if=\"showModal\"\n        :user=\"user\"\n        :user-fav-books=\"userFavBooks\"\n        :selected-book=\"selectedBook\"\n        @add-to-fav=\"handleFavBook\"\n        @close=\"showModal = false\"></BookOverlay>\n  </div>\n\n</template>\n\n<script>\nimport BookList from '../components/BookList.vue';\nimport BookOverlay from '../components/BookOverlay.vue';\nimport { firebase } from '../firebase-connection.js';\nimport * as Api from '../api.js';\n\nexport default {\n  name: 'app',\n  components: {\n    BookList,\n    BookOverlay,\n  },\n  props: {\n    user: { type: Object },\n    userFavBooks: { type: Array },\n    searchInput: { type: String }\n  },\n  data: function() {\n    return {\n      showModal: false,\n      selectedBook: null,\n    }\n  },\n  methods: {\n    openBookOverlay: function(book) {\n      this.showModal = true;\n      this.selectedBook = book;\n    },\n    handleFavBook: async function(book) {\n      const matched = this.userFavBooks.find(b => b.slug === book.slug);\n      if (Boolean(matched)) {\n        await this.removeBookFromFav(book);\n      } else {\n        await this.addBookToFav(book);\n      }\n    },\n    addBookToFav: async function(book) {\n      this.userFavBooks.push(Object.assign(book, { added: Date.now() }));\n      book.upvotes += 1;\n      await Api.addBookToFav({ user: this.user, book });\n    },\n    removeBookFromFav: async function(book) {\n      const idx = this.userFavBooks.indexOf(book);\n      this.userFavBooks.splice(idx, 1);\n      book.upvotes -= 1;\n      await Api.removeBookFromFav({ user: this.user, book });\n    }\n  },\n}\n\n</script>\n\n<style>\n\n.logo-container {\n  display: flex;\n  align-items: center;\n  font-size: 62px;\n  font-weight: bold;\n  justify-content: center;\n  padding-bottom: 60px;\n  background: #FAFAFA;\n}\n\n.container {\n  overflow: auto;\n  padding-top: 55px;\n}\n\n.header-logo {\n  -webkit-tap-highlight-color: rgba(250, 250, 250, 0);\n  align-items: center;\n  display: flex;\n  font-size: 17px;\n  color: #333;\n  font-weight: 700;\n  text-decoration: none;\n}\n\n.user-img {\n  border-radius: 50%;\n  pointer-events: all;\n}\n\n</style>\n"]}]}